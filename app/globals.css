@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;

  /* Semantic color tokens */
  --color-surface: #3d4d68;
  --color-surface-hover: #4a5b7a;
  --color-success: #407763;
  --color-warning: #f6d656;
  --color-error: #9e4a4a;
  --color-hint-default: #6b89b8;
  --color-accent: #f59e0b;
  --color-accent-light: #fbbf24;
  --color-page-bg: #1a2e5a;
  --color-page-bg-mid: #233b6e;
  --color-page-bg-dark: #0f172a;
  --color-modal-bg: #1e3a5f;
  --color-footer-bg: #1a2744;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-surface: var(--color-surface);
  --color-surface-hover: var(--color-surface-hover);
  --color-success: var(--color-success);
  --color-warning: var(--color-warning);
  --color-error: var(--color-error);
  --color-hint-default: var(--color-hint-default);
  --color-accent: var(--color-accent);
  --color-accent-light: var(--color-accent-light);
  --color-page-bg: var(--color-page-bg);
  --color-page-bg-mid: var(--color-page-bg-mid);
  --color-page-bg-dark: var(--color-page-bg-dark);
  --color-modal-bg: var(--color-modal-bg);
  --color-footer-bg: var(--color-footer-bg);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --font-baloo-2: var(--font-baloo-2);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* Scale down for smaller laptop screens */
/* Only applies below 1600px — larger screens are completely untouched */
/* --full-vh compensates min-height so zoomed content fills the actual viewport */
:root {
  --full-vh: 100vh;
}
@supports (height: 100dvh) {
  :root {
    --full-vh: 100dvh;
  }
}
@media (min-width: 640px) and (max-width: 1199px) {
  html {
    zoom: 0.7;
  }
  :root {
    --full-vh: calc(100vh / 0.7);
  }
}
@media (min-width: 1200px) and (max-width: 1599px) {
  html {
    zoom: 0.8;
  }
  :root {
    --full-vh: calc(100vh / 0.8);
  }
}
@media (min-width: 1600px) {
  html {
    zoom: 0.9;
  }
  :root {
    --full-vh: calc(100vh / 0.9);
  }
}

html {
  background: var(--color-page-bg-dark);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Mobile viewport height handling for keyboard */
@supports (height: 100dvh) {
  .min-h-screen-safe {
    min-height: 100dvh;
  }
  .h-screen-safe {
    height: 100dvh;
  }
}

@supports not (height: 100dvh) {
  .min-h-screen-safe {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
  .h-screen-safe {
    height: 100vh;
    height: -webkit-fill-available;
  }
}

/* Toast animation keyframes */
@keyframes toast-slide-in {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(-1rem);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

.animate-toast-in {
  animation: toast-slide-in 0.3s ease-out forwards;
}

/* Cookie consent slide-up animation */
@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(100%);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out forwards;
}

/* Stats recovery notification slide-down animation */
@keyframes slide-down {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(-100%);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

.animate-slide-down {
  animation: slide-down 0.3s ease-out forwards;
}

/* Hint reveal animation — fade-in + slight upward slide */
@keyframes hint-reveal {
  from {
    opacity: 0;
    transform: translateY(0.5rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-hint-reveal {
  animation: hint-reveal 0.3s ease-out forwards;
}

/* Image border pulse — brief scale bump when border first appears */
@keyframes image-pulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.01);
  }
  100% {
    transform: scale(1);
  }
}

.animate-image-pulse {
  animation: image-pulse 0.3s ease-in-out;
}

/* Modal entrance — scale-up from 95% + fade-in */
@keyframes modal-enter {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-modal-enter {
  animation: modal-enter 0.2s ease-out forwards;
}

/* Modal backdrop fade-in */
@keyframes backdrop-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-backdrop-fade {
  animation: backdrop-fade-in 0.2s ease-out forwards;
}

/* Distribution bar fill — width animates from 0 via CSS transition on mount */
@keyframes bar-fill {
  from {
    width: 0%;
  }
}

.animate-bar-fill {
  animation: bar-fill 0.5s ease-out backwards;
}

/* Image zoom modal — scale-up entrance */
@keyframes zoom-modal-enter {
  from {
    opacity: 0;
    transform: scale(0.92);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-zoom-modal-enter {
  animation: zoom-modal-enter 0.2s ease-out forwards;
}

/* Zoom hint toast — fade in, hold, fade out */
@keyframes zoom-hint {
  0% { opacity: 0; transform: translateY(0.5rem); }
  15% { opacity: 1; transform: translateY(0); }
  75% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(0); }
}

.animate-zoom-hint {
  animation: zoom-hint 5s ease-out forwards;
}
